(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-12ff42ca"],{2880:function(e,t,r){"use strict";r.r(t);var a=r("7a23"),n=r("1072"),c=r.n(n),i=r("1342"),o=r.n(i),s=r("b0d4"),l=r.n(s),u=function(e){return Object(a["y"])("data-v-b6f9e268"),e=e(),Object(a["w"])(),e},d={key:0},f=u((function(){return Object(a["h"])("span",null,"熱門景點",-1)})),p=u((function(){return Object(a["h"])("img",{src:c.a,alt:"place-icon"},null,-1)})),h=[f,p],y={key:1},g=u((function(){return Object(a["h"])("span",null,"熱門美食",-1)})),w=u((function(){return Object(a["h"])("img",{src:o.a,alt:"restaurant-icon"},null,-1)})),b=[g,w],m={key:2},v=u((function(){return Object(a["h"])("span",null,"近期活動",-1)})),O=u((function(){return Object(a["h"])("img",{src:l.a,alt:"event-icon"},null,-1)})),j=[v,O],T={key:3},D=Object(a["i"])("搜尋結果 "),x=u((function(){return Object(a["h"])("i",{class:"fas fa-lg fa-search"},null,-1)})),C=[D,x];function R(e,t,r,n,c,i){var o=Object(a["E"])("Loading"),s=Object(a["E"])("HeaderSectionTest"),l=Object(a["E"])("PopularSectionTest");return Object(a["v"])(),Object(a["g"])(a["a"],null,[Object(a["j"])(o,{active:c.isLoading,color:c.loaderColor,width:c.loaderWidth,height:c.loaderHeight},null,8,["active","color","width","height"]),Object(a["j"])(s),Object(a["j"])(l,{data:c.searchedData,touristType:c.filteredType,resultPath:c.path},{card_section_title_text:Object(a["M"])((function(){return["ScenicSpot"===c.filteredType?(Object(a["v"])(),Object(a["g"])("div",d,h)):"Restaurant"===c.filteredType?(Object(a["v"])(),Object(a["g"])("div",y,b)):"Activity"===c.filteredType?(Object(a["v"])(),Object(a["g"])("div",m,j)):(Object(a["v"])(),Object(a["g"])("div",T,C))]})),_:1},8,["data","touristType","resultPath"])],64)}var k=r("2909"),S=r("1da1"),K=(r("96cf"),r("4de4"),r("d3b7"),r("ac1f"),r("466d"),r("99af"),r("6744")),N={mixins:[K["a"]],data:function(){return{allData:[],searchedData:[],filteredType:"",filteredCity:"",keywords:"",path:"",isLoading:!1,loaderWidth:150,loaderHeight:150,loaderColor:"rgba(47, 121, 140, 1)"}},computed:{placeUrl:function(){return console.log("觸發 placeUrl",this.filteredCity),"https://ptx.transportdata.tw/MOTC/v2/Tourism/ScenicSpot/".concat(this.filteredCity,"?&$format=JSON")},foodUrl:function(){return console.log("觸發 foodUrl",this.filteredCity),"https://ptx.transportdata.tw/MOTC/v2/Tourism/Restaurant/".concat(this.filteredCity,"?&$format=JSON")},eventUrl:function(){return console.log("觸發 eventUrl",this.filteredCity),"https://ptx.transportdata.tw/MOTC/v2/Tourism/Activity/".concat(this.filteredCity,"?&$format=JSON")}},methods:{matchKeywords:function(e,t){this.searchedData=e.filter((function(e){var r=e.ScenicSpotName?e.ScenicSpotName:e.RestaurantName?e.RestaurantName:e.ActivityName;return r.match(t)})),console.log("matchKeywords searchedData",this.searchedData)},processFillterData:function(e){var t=this;return Object(S["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if("ScenicSpot"!==e){r.next=5;break}return r.next=3,t.getPlaceData();case 3:t.searchedData=r.sent,console.log("開始抓資料");case 5:if("Restaurant"!==e){r.next=10;break}return r.next=8,t.getFoodData();case 8:t.searchedData=r.sent,console.log("開始抓資料");case 10:if("Activity"!==e){r.next=15;break}return r.next=13,t.getEventData();case 13:t.searchedData=r.sent,console.log("開始抓資料");case 15:console.log("searchedData",t.searchedData);case 16:case"end":return r.stop()}}),r)})))()}},props:["inputKeywords","type","city"],watch:{inputKeywords:function(){var e=this;return Object(S["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log("inputKeywords 變動",e.inputKeywords),e.matchKeywords(e.allData,e.inputKeywords),e.path=e.$route.fullPath,console.log("watch path",e.path);case 4:case"end":return t.stop()}}),t)})))()},city:function(){var e=this;return Object(S["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log("city 變動",e.city),e.filteredCity=e.city,e.path=e.$route.fullPath;case 3:case"end":return t.stop()}}),t)})))()},type:function(){var e=this;return Object(S["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log("type 變動",e.type),e.filteredType=e.type,e.path=e.$route.fullPath;case 3:case"end":return t.stop()}}),t)})))()},filteredCity:function(){var e=this;return Object(S["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log("觸發 filteredCity",e.filteredCity),e.isLoading=!0,e.processFillterData(e.filteredType),e.isLoading=!1;case 4:case"end":return t.stop()}}),t)})))()},filteredType:function(){var e=this;return Object(S["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log("觸發 filteredType",e.filteredType),e.isLoading=!0,e.processFillterData(e.filteredType),e.isLoading=!1;case 4:case"end":return t.stop()}}),t)})))()}},created:function(){var e=this;return Object(S["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return window.scrollTo(0,-1e3),console.log("created inputKeywords",e.inputKeywords),t.next=4,e.getAllData();case 4:e.allData=[].concat(Object(k["a"])(e.placeData),Object(k["a"])(e.foodData),Object(k["a"])(e.eventData)),e.inputKeywords&&e.matchKeywords(e.allData,e.inputKeywords),e.filteredType=e.type,e.filteredCity=e.city,console.log("created filteredType",e.filteredType),console.log("created filteredCity",e.filteredCity),e.path=e.$route.fullPath;case 11:case"end":return t.stop()}}),t)})))()}},P=(r("9f22"),r("6b0d")),L=r.n(P);const $=L()(N,[["render",R],["__scopeId","data-v-b6f9e268"]]);t["default"]=$},"9f22":function(e,t,r){"use strict";r("a9cb")},a9cb:function(e,t,r){}}]);
//# sourceMappingURL=chunk-12ff42ca.4e199f14.js.map